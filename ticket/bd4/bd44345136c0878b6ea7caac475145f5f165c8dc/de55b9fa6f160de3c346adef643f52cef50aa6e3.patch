Index: include/wx/xrc/xh_bmp.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_bmp.h,v
retrieving revision 1.7
diff -u -r1.7 xh_bmp.h
--- include/wx/xrc/xh_bmp.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_bmp.h	2006/10/03 03:23:32
@@ -13,10 +13,12 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC
 
 class WXDLLIMPEXP_XRC wxBitmapXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxBitmapXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxBitmapXmlHandler)
+
 public:
     wxBitmapXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -25,12 +27,14 @@
 
 class WXDLLIMPEXP_XRC wxIconXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxIconXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxIconXmlHandler)
+
 public:
     wxIconXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_BMP_H_
Index: include/wx/xrc/xh_bmpbt.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_bmpbt.h,v
retrieving revision 1.9
diff -u -r1.9 xh_bmpbt.h
--- include/wx/xrc/xh_bmpbt.h	2006/07/04 18:08:06	1.9
+++ include/wx/xrc/xh_bmpbt.h	2006/10/03 03:23:21
@@ -11,22 +11,20 @@
 #ifndef _WX_XH_BMPBT_H_
 #define _WX_XH_BMPBT_H_
 
-#include "wx/defs.h"
-
-#if wxUSE_XRC
-
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_BMPBUTTON
+
 class WXDLLIMPEXP_XRC wxBitmapButtonXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxBitmapButtonXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxBitmapButtonXmlHandler)
+
 public:
     wxBitmapButtonXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
-
-#endif // wxUSE_XRC
 
+#endif // wxUSE_XRC && wxUSE_BMPBUTTON
 
 #endif // _WX_XH_BMPBT_H_
Index: include/wx/xrc/xh_bmpcbox.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_bmpcbox.h,v
retrieving revision 1.1
diff -u -r1.1 xh_bmpcbox.h
--- include/wx/xrc/xh_bmpcbox.h	2006/09/23 09:14:38	1.1
+++ include/wx/xrc/xh_bmpcbox.h	2006/10/03 03:23:07
@@ -13,22 +13,24 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_BITMAPCOMBOBOX
+#if wxUSE_XRC && wxUSE_BITMAPCOMBOBOX
 
 class WXDLLIMPEXP_ADV wxBitmapComboBox;
 
 class WXDLLIMPEXP_XRC wxBitmapComboBoxXmlHandler : public wxXmlResourceHandler
 {
     DECLARE_DYNAMIC_CLASS(wxBitmapComboBoxXmlHandler)
+
 public:
     wxBitmapComboBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     wxBitmapComboBox*    m_combobox;
     bool                m_isInside;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_BITMAPCOMBOBOX
 
 #endif // _WX_XH_BMPCBOX_H_
Index: include/wx/xrc/xh_bttn.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_bttn.h,v
retrieving revision 1.7
diff -u -r1.7 xh_bttn.h
--- include/wx/xrc/xh_bttn.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_bttn.h	2006/10/03 03:22:43
@@ -13,14 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_BUTTON
+
 class WXDLLIMPEXP_XRC wxButtonXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxButtonXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxButtonXmlHandler)
+
 public:
     wxButtonXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_BUTTON
 
 #endif // _WX_XH_BTTN_H_
Index: include/wx/xrc/xh_cald.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_cald.h,v
retrieving revision 1.7
diff -u -r1.7 xh_cald.h
--- include/wx/xrc/xh_cald.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_cald.h	2006/10/03 03:22:26
@@ -11,15 +11,14 @@
 #ifndef _WX_XH_CALD_H_
 #define _WX_XH_CALD_H_
 
-#include "wx/defs.h"
+#include "wx/xrc/xmlres.h"
 
 #if wxUSE_XRC && wxUSE_CALENDARCTRL
 
-#include "wx/xrc/xmlres.h"
-
 class WXDLLIMPEXP_XRC wxCalendarCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxCalendarCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxCalendarCtrlXmlHandler)
+
 public:
     wxCalendarCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
Index: include/wx/xrc/xh_chckb.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_chckb.h,v
retrieving revision 1.7
diff -u -r1.7 xh_chckb.h
--- include/wx/xrc/xh_chckb.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_chckb.h	2006/10/03 03:22:10
@@ -11,15 +11,14 @@
 #ifndef _WX_XH_CHCKB_H_
 #define _WX_XH_CHCKB_H_
 
-#include "wx/defs.h"
+#include "wx/xrc/xmlres.h"
 
 #if wxUSE_XRC && wxUSE_CHECKBOX
 
-#include "wx/xrc/xmlres.h"
-
 class WXDLLIMPEXP_XRC wxCheckBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxCheckBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxCheckBoxXmlHandler)
+
 public:
     wxCheckBoxXmlHandler();
     virtual wxObject *DoCreateResource();
Index: include/wx/xrc/xh_chckl.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_chckl.h,v
retrieving revision 1.9
diff -u -r1.9 xh_chckl.h
--- include/wx/xrc/xh_chckl.h	2006/07/04 18:08:06	1.9
+++ include/wx/xrc/xh_chckl.h	2006/10/03 03:21:56
@@ -11,19 +11,19 @@
 #ifndef _WX_XH_CHCKL_H_
 #define _WX_XH_CHCKL_H_
 
-#include "wx/defs.h"
+#include "wx/xrc/xmlres.h"
 
 #if wxUSE_XRC && wxUSE_CHECKLISTBOX
 
-#include "wx/xrc/xmlres.h"
-
 class WXDLLIMPEXP_XRC wxCheckListBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxCheckListBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxCheckListBoxXmlHandler)
+
 public:
     wxCheckListBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     bool m_insideBox;
     wxArrayString strList;
Index: include/wx/xrc/xh_choic.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_choic.h,v
retrieving revision 1.7
diff -u -r1.7 xh_choic.h
--- include/wx/xrc/xh_choic.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_choic.h	2006/10/03 03:21:45
@@ -11,19 +11,19 @@
 #ifndef _WX_XH_CHOIC_H_
 #define _WX_XH_CHOIC_H_
 
-#include "wx/defs.h"
+#include "wx/xrc/xmlres.h"
 
 #if wxUSE_XRC && wxUSE_CHOICE
 
-#include "wx/xrc/xmlres.h"
-
 class WXDLLIMPEXP_XRC wxChoiceXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxChoiceXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxChoiceXmlHandler)
+
 public:
     wxChoiceXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     bool m_insideBox;
     wxArrayString strList;
Index: include/wx/xrc/xh_choicbk.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_choicbk.h,v
retrieving revision 1.3
diff -u -r1.3 xh_choicbk.h
--- include/wx/xrc/xh_choicbk.h	2006/07/04 18:08:06	1.3
+++ include/wx/xrc/xh_choicbk.h	2006/10/03 03:21:13
@@ -9,17 +9,16 @@
 #ifndef _WX_XH_CHOICEBK_H_
 #define _WX_XH_CHOICEBK_H_
 
-#include "wx/defs.h"
+#include "wx/xrc/xmlres.h"
 
 #if wxUSE_XRC && wxUSE_CHOICEBOOK
 
-#include "wx/xrc/xmlres.h"
-
 class WXDLLEXPORT wxChoicebook;
 
 class WXDLLIMPEXP_XRC wxChoicebookXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxChoicebookXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxChoicebookXmlHandler)
+
 public:
     wxChoicebookXmlHandler();
     virtual wxObject *DoCreateResource();
Index: include/wx/xrc/xh_clrpicker.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_clrpicker.h,v
retrieving revision 1.2
diff -u -r1.2 xh_clrpicker.h
--- include/wx/xrc/xh_clrpicker.h	2006/07/04 18:08:06	1.2
+++ include/wx/xrc/xh_clrpicker.h	2006/10/03 03:57:52
@@ -1,5 +1,5 @@
 /////////////////////////////////////////////////////////////////////////////
-// Name:        wx/xrc/xh_clrpicker.cpp
+// Name:        wx/xrc/xh_clrpicker.h
 // Purpose:     XML resource handler for wxColourPickerCtrl
 // Author:      Francesco Montorsi
 // Created:     2006-04-17
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_COLOURPICKERCTRL
+#if wxUSE_XRC && wxUSE_COLOURPICKERCTRL
 
 class WXDLLIMPEXP_XRC wxColourPickerCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxColourPickerCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxColourPickerCtrlXmlHandler)
+
 public:
     wxColourPickerCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif // wxUSE_COLOURPICKERCTRL
+#endif // wxUSE_XRC && wxUSE_COLOURPICKERCTRL
 
 #endif // _WX_XH_CLRPICKERCTRL_H_
Index: include/wx/xrc/xh_combo.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_combo.h,v
retrieving revision 1.7
diff -u -r1.7 xh_combo.h
--- include/wx/xrc/xh_combo.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_combo.h	2006/10/03 03:20:52
@@ -13,20 +13,22 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_COMBOBOX
+#if wxUSE_XRC && wxUSE_COMBOBOX
 
 class WXDLLIMPEXP_XRC wxComboBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxComboBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxComboBoxXmlHandler)
+
 public:
     wxComboBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     bool m_insideBox;
     wxArrayString strList;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_COMBOBOX
 
 #endif // _WX_XH_COMBO_H_
Index: include/wx/xrc/xh_datectrl.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_datectrl.h,v
retrieving revision 1.4
diff -u -r1.4 xh_datectrl.h
--- include/wx/xrc/xh_datectrl.h	2006/07/04 18:08:06	1.4
+++ include/wx/xrc/xh_datectrl.h	2006/10/03 03:48:16
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_DATEPICKCTRL
+#if wxUSE_XRC && wxUSE_DATEPICKCTRL
 
 class WXDLLIMPEXP_XRC wxDateCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxDateCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxDateCtrlXmlHandler)
+
 public:
     wxDateCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif // wxUSE_DATEPICKCTRL
+#endif // wxUSE_XRC && wxUSE_DATEPICKCTRL
 
 #endif // _WX_XH_DATECTRL_H_
Index: include/wx/xrc/xh_dirpicker.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_dirpicker.h,v
retrieving revision 1.2
diff -u -r1.2 xh_dirpicker.h
--- include/wx/xrc/xh_dirpicker.h	2006/07/04 18:08:06	1.2
+++ include/wx/xrc/xh_dirpicker.h	2006/10/03 03:48:02
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
-// Name:        wx/xrc/xh_clrpicker.cpp
-// Purpose:     XML resource handler for wxColourPickerCtrl
+// Name:        wx/xrc/xh_dirpicker.h
+// Purpose:     XML resource handler for wxDirPickerCtrl
 // Author:      Francesco Montorsi
 // Created:     2006-04-17
 // RCS-ID:      $Id: xh_dirpicker.h,v 1.2 2006/07/04 18:08:06 ABX Exp $
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_DIRPICKERCTRL
+#if wxUSE_XRC && wxUSE_DIRPICKERCTRL
 
 class WXDLLIMPEXP_XRC wxDirPickerCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxDirPickerCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxDirPickerCtrlXmlHandler)
+
 public:
     wxDirPickerCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif // wxUSE_DIRPICKERCTRL
+#endif // wxUSE_XRC && wxUSE_DIRPICKERCTRL
 
 #endif // _WX_XH_DIRPICKERCTRL_H_
Index: include/wx/xrc/xh_dlg.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_dlg.h,v
retrieving revision 1.7
diff -u -r1.7 xh_dlg.h
--- include/wx/xrc/xh_dlg.h	2006/07/04 18:08:06	1.7
+++ include/wx/xrc/xh_dlg.h	2006/10/03 03:36:19
@@ -13,14 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC
+
 class WXDLLIMPEXP_XRC wxDialogXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxDialogXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxDialogXmlHandler)
+
 public:
     wxDialogXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_DLG_H_
Index: include/wx/xrc/xh_filepicker.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_filepicker.h,v
retrieving revision 1.2
diff -u -r1.2 xh_filepicker.h
--- include/wx/xrc/xh_filepicker.h	2006/07/04 18:08:07	1.2
+++ include/wx/xrc/xh_filepicker.h	2006/10/03 03:47:06
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
-// Name:        wx/xrc/xh_clrpicker.cpp
-// Purpose:     XML resource handler for wxColourPickerCtrl
+// Name:        wx/xrc/xh_filepicker.h
+// Purpose:     XML resource handler for wxFilePickerCtrl
 // Author:      Francesco Montorsi
 // Created:     2006-04-17
 // RCS-ID:      $Id: xh_filepicker.h,v 1.2 2006/07/04 18:08:07 ABX Exp $
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_FILEPICKERCTRL
+#if wxUSE_XRC && wxUSE_FILEPICKERCTRL
 
 class WXDLLIMPEXP_XRC wxFilePickerCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxFilePickerCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxFilePickerCtrlXmlHandler)
+
 public:
     wxFilePickerCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif // wxUSE_FILEPICKERCTRL
+#endif // wxUSE_XRC && wxUSE_FILEPICKERCTRL
 
 #endif // _WX_XH_FILEPICKERCTRL_H_
Index: include/wx/xrc/xh_fontpicker.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_fontpicker.h,v
retrieving revision 1.2
diff -u -r1.2 xh_fontpicker.h
--- include/wx/xrc/xh_fontpicker.h	2006/07/04 18:08:07	1.2
+++ include/wx/xrc/xh_fontpicker.h	2006/10/03 03:46:34
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
-// Name:        wx/xrc/xh_clrpicker.cpp
-// Purpose:     XML resource handler for wxColourPickerCtrl
+// Name:        wx/xrc/xh_fontpicker.h
+// Purpose:     XML resource handler for wxFontPickerCtrl
 // Author:      Francesco Montorsi
 // Created:     2006-04-17
 // RCS-ID:      $Id: xh_fontpicker.h,v 1.2 2006/07/04 18:08:07 ABX Exp $
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_FONTPICKERCTRL
+#if wxUSE_XRC && wxUSE_FONTPICKERCTRL
 
 class WXDLLIMPEXP_XRC wxFontPickerCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxFontPickerCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxFontPickerCtrlXmlHandler)
+
 public:
     wxFontPickerCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif // wxUSE_FONTPICKERCTRL
+#endif // wxUSE_XRC && wxUSE_FONTPICKERCTRL
 
 #endif // _WX_XH_FONTPICKERCTRL_H_
Index: include/wx/xrc/xh_frame.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_frame.h,v
retrieving revision 1.7
diff -u -r1.7 xh_frame.h
--- include/wx/xrc/xh_frame.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_frame.h	2006/10/03 03:57:19
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_frame.h
-// Purpose:     XML resource handler for dialogs
+// Purpose:     XML resource handler for wxFrame
 // Author:      Vaclav Slavik & Aleks.
 // Created:     2000/03/05
 // RCS-ID:      $Id: xh_frame.h,v 1.7 2006/07/04 18:08:07 ABX Exp $
@@ -13,14 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC
+
 class WXDLLIMPEXP_XRC wxFrameXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxFrameXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxFrameXmlHandler)
+
 public:
     wxFrameXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_FRAME_H_
Index: include/wx/xrc/xh_gauge.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_gauge.h,v
retrieving revision 1.8
diff -u -r1.8 xh_gauge.h
--- include/wx/xrc/xh_gauge.h	2006/07/04 18:08:07	1.8
+++ include/wx/xrc/xh_gauge.h	2006/10/03 03:20:04
@@ -11,12 +11,9 @@
 #ifndef _WX_XH_GAUGE_H_
 #define _WX_XH_GAUGE_H_
 
-#include "wx/defs.h"
-
-#if wxUSE_GAUGE
-
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_GAUGE
 
 class WXDLLIMPEXP_XRC wxGaugeXmlHandler : public wxXmlResourceHandler
 {
@@ -32,6 +29,6 @@
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_GAUGE
 
 #endif // _WX_XH_GAUGE_H_
Index: include/wx/xrc/xh_gdctl.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_gdctl.h,v
retrieving revision 1.7
diff -u -r1.7 xh_gdctl.h
--- include/wx/xrc/xh_gdctl.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_gdctl.h	2006/10/03 03:44:30
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_DIRDLG
+#if wxUSE_XRC && wxUSE_DIRDLG
 
 class WXDLLIMPEXP_XRC wxGenericDirCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxGenericDirCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxGenericDirCtrlXmlHandler)
+
 public:
     wxGenericDirCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_DIRDLG
 
 #endif // _WX_XH_GDCTL_H_
Index: include/wx/xrc/xh_grid.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_grid.h,v
retrieving revision 1.4
diff -u -r1.4 xh_grid.h
--- include/wx/xrc/xh_grid.h	2006/07/04 18:08:07	1.4
+++ include/wx/xrc/xh_grid.h	2006/10/03 03:56:59
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_grid.h
-// Purpose:     XML resource handler for the grid control
+// Purpose:     XML resource handler for wxGrid
 // Author:      Agron Selimaj
 // Created:     2005/08/11
 // RCS-ID:      $Id: xh_grid.h,v 1.4 2006/07/04 18:08:07 ABX Exp $
@@ -17,14 +17,13 @@
 
 class WXDLLIMPEXP_XRC wxGridXmlHandler : public wxXmlResourceHandler
 {
+    DECLARE_DYNAMIC_CLASS(wxGridXmlHandler)
+
 public:
     wxGridXmlHandler();
 
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
-
-private:
-    DECLARE_DYNAMIC_CLASS(wxGridXmlHandler)
 };
 
 #endif // wxUSE_XRC && wxUSE_GRID
Index: include/wx/xrc/xh_html.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_html.h,v
retrieving revision 1.7
diff -u -r1.7 xh_html.h
--- include/wx/xrc/xh_html.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_html.h	2006/10/03 03:44:05
@@ -13,19 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#include "wx/defs.h"
+#if wxUSE_XRC && wxUSE_HTML
 
-#if wxUSE_HTML
-
 class WXDLLIMPEXP_XRC wxHtmlWindowXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxHtmlWindowXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxHtmlWindowXmlHandler)
+
 public:
     wxHtmlWindowXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_HTML
 
-#endif // _WX_XH_SLIDER_H_
+#endif // _WX_XH_HTML_H_
Index: include/wx/xrc/xh_hyperlink.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_hyperlink.h,v
retrieving revision 1.3
diff -u -r1.3 xh_hyperlink.h
--- include/wx/xrc/xh_hyperlink.h	2006/05/29 11:14:31	1.3
+++ include/wx/xrc/xh_hyperlink.h	2006/10/03 03:19:28
@@ -12,15 +12,15 @@
 #ifndef _WX_XH_HYPERLINKH__
 #define _WX_XH_HYPERLINKH__
 
-#include "wx/defs.h"
-
-#if wxUSE_HYPERLINKCTRL
-
-#include "wx/hyperlink.h"
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_HYPERLINKCTRL
+
 class WXDLLIMPEXP_XRC wxHyperlinkCtrlXmlHandler : public wxXmlResourceHandler
 {
+    // Register with wxWindows' dynamic class subsystem.
+    DECLARE_DYNAMIC_CLASS(wxHyperlinkCtrlXmlHandler)
+
 public:
     // Constructor.
     wxHyperlinkCtrlXmlHandler();
@@ -30,10 +30,8 @@
 
     // Returns true if we know how to create a control for the given node.
     virtual bool CanHandle(wxXmlNode *node);
-
-    // Register with wxWindows' dynamic class subsystem.
-    DECLARE_DYNAMIC_CLASS(wxHyperlinkCtrlXmlHandler)
 };
+
+#endif // wxUSE_XRC && wxUSE_HYPERLINKCTRL
 
-#endif // wxUSE_HYPERLINKCTRL
 #endif // _WX_XH_HYPERLINKH__
Index: include/wx/xrc/xh_listb.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_listb.h,v
retrieving revision 1.7
diff -u -r1.7 xh_listb.h
--- include/wx/xrc/xh_listb.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_listb.h	2006/10/03 03:18:59
@@ -13,20 +13,22 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_LISTBOX
+#if wxUSE_XRC && wxUSE_LISTBOX
 
 class WXDLLIMPEXP_XRC wxListBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxListBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxListBoxXmlHandler)
+
 public:
     wxListBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     bool m_insideBox;
     wxArrayString strList;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_LISTBOX
 
 #endif // _WX_XH_LISTB_H_
Index: include/wx/xrc/xh_listbk.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_listbk.h,v
retrieving revision 1.3
diff -u -r1.3 xh_listbk.h
--- include/wx/xrc/xh_listbk.h	2006/07/04 18:08:07	1.3
+++ include/wx/xrc/xh_listbk.h	2006/10/03 03:34:58
@@ -11,13 +11,14 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_LISTBOOK
+#if wxUSE_XRC && wxUSE_LISTBOOK
 
 class WXDLLEXPORT wxListbook;
 
 class WXDLLIMPEXP_XRC wxListbookXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxListbookXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxListbookXmlHandler)
+
 public:
     wxListbookXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -28,6 +29,6 @@
     wxListbook *m_listbook;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_LISTBOOK
 
 #endif // _WX_XH_LISTBK_H_
Index: include/wx/xrc/xh_listc.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_listc.h,v
retrieving revision 1.7
diff -u -r1.7 xh_listc.h
--- include/wx/xrc/xh_listc.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_listc.h	2006/10/03 03:55:30
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_listc.h
-// Purpose:     XML resource handler for wxCalendarCtrl
+// Purpose:     XML resource handler for wxListCtrl
 // Author:      Brian Gavin
 // Created:     2000/09/09
 // RCS-ID:      $Id: xh_listc.h,v 1.7 2006/07/04 18:08:07 ABX Exp $
@@ -13,14 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_LISTCTRL
+
 class WXDLLIMPEXP_XRC wxListCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxListCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxListCtrlXmlHandler)
+
 public:
     wxListCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_LISTCTRL
 
 #endif // _WX_XH_LISTC_H_
Index: include/wx/xrc/xh_mdi.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_mdi.h,v
retrieving revision 1.4
diff -u -r1.4 xh_mdi.h
--- include/wx/xrc/xh_mdi.h	2006/07/04 18:08:07	1.4
+++ include/wx/xrc/xh_mdi.h	2006/10/03 03:55:16
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_mdi.h
-// Purpose:     XML resource handler for dialogs
+// Purpose:     XML resource handler for wxMdi
 // Author:      David M. Falkinder & Vaclav Slavik
 // Created:     14/02/2005
 // RCS-ID:      $Id: xh_mdi.h,v 1.4 2006/07/04 18:08:07 ABX Exp $
@@ -13,12 +13,14 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_MDI
+#if wxUSE_XRC && wxUSE_MDI
 
 class WXDLLIMPEXP_CORE wxWindow;
 
 class WXDLLIMPEXP_XRC wxMdiXmlHandler : public wxXmlResourceHandler
 {
+    DECLARE_DYNAMIC_CLASS(wxMdiXmlHandler)
+
 public:
     wxMdiXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -26,10 +28,8 @@
 
 private:
     wxWindow *CreateFrame();
-
-    DECLARE_DYNAMIC_CLASS(wxMdiXmlHandler)
 };
 
-#endif // wxUSE_MDI
+#endif // wxUSE_XRC && wxUSE_MDI
 
 #endif // _WX_XH_MDI_H_
Index: include/wx/xrc/xh_menu.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_menu.h,v
retrieving revision 1.8
diff -u -r1.8 xh_menu.h
--- include/wx/xrc/xh_menu.h	2006/07/04 18:08:07	1.8
+++ include/wx/xrc/xh_menu.h	2006/10/03 03:43:12
@@ -13,9 +13,12 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_MENUS
+
 class WXDLLIMPEXP_XRC wxMenuXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxMenuXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxMenuXmlHandler)
+
 public:
     wxMenuXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -28,11 +31,13 @@
 class WXDLLIMPEXP_XRC wxMenuBarXmlHandler : public wxXmlResourceHandler
 {
     DECLARE_DYNAMIC_CLASS(wxMenuBarXmlHandler)
-    public:
-        wxMenuBarXmlHandler();
-        virtual wxObject *DoCreateResource();
-        virtual bool CanHandle(wxXmlNode *node);
+
+public:
+    wxMenuBarXmlHandler();
+    virtual wxObject *DoCreateResource();
+    virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_MENUS
 
 #endif // _WX_XH_MENU_H_
Index: include/wx/xrc/xh_notbk.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_notbk.h,v
retrieving revision 1.7
diff -u -r1.7 xh_notbk.h
--- include/wx/xrc/xh_notbk.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_notbk.h	2006/10/03 03:42:56
@@ -12,13 +12,14 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_NOTEBOOK
+#if wxUSE_XRC && wxUSE_NOTEBOOK
 
 class WXDLLEXPORT wxNotebook;
 
 class WXDLLIMPEXP_XRC wxNotebookXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxNotebookXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxNotebookXmlHandler)
+
 public:
     wxNotebookXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -29,6 +30,6 @@
     wxNotebook *m_notebook;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_NOTEBOOK
 
 #endif // _WX_XH_NOTBK_H_
Index: include/wx/xrc/xh_odcombo.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_odcombo.h,v
retrieving revision 1.1
diff -u -r1.1 xh_odcombo.h
--- include/wx/xrc/xh_odcombo.h	2006/06/20 12:26:05	1.1
+++ include/wx/xrc/xh_odcombo.h	2006/10/03 03:28:25
@@ -13,20 +13,23 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_ODCOMBOBOX
+#if wxUSE_XRC && wxUSE_ODCOMBOBOX
 
 class WXDLLIMPEXP_XRC wxOwnerDrawnComboBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxOwnerDrawnComboBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxOwnerDrawnComboBoxXmlHandler)
+
 public:
     wxOwnerDrawnComboBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     bool m_insideBox;
     wxArrayString strList;
 };
+
+#endif // wxUSE_XRC && wxUSE_ODCOMBOBOX
 
-#endif
+#endif // _WX_XH_ODCOMBO_H_
 
-#endif // _WX_XH_ODCOMBO_H_
Index: include/wx/xrc/xh_panel.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_panel.h,v
retrieving revision 1.7
diff -u -r1.7 xh_panel.h
--- include/wx/xrc/xh_panel.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_panel.h	2006/10/03 03:54:35
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_panel.h
-// Purpose:     XML resource handler for panels
+// Purpose:     XML resource handler for wxPanel
 // Author:      Vaclav Slavik
 // Created:     2000/03/05
 // RCS-ID:      $Id: xh_panel.h,v 1.7 2006/07/04 18:08:07 ABX Exp $
@@ -13,14 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC
+
 class WXDLLIMPEXP_XRC wxPanelXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxPanelXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxPanelXmlHandler)
+
 public:
     wxPanelXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_PANEL_H_
Index: include/wx/xrc/xh_radbt.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_radbt.h,v
retrieving revision 1.7
diff -u -r1.7 xh_radbt.h
--- include/wx/xrc/xh_radbt.h	2006/07/04 18:08:07	1.7
+++ include/wx/xrc/xh_radbt.h	2006/10/03 03:54:23
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_radbt.h
-// Purpose:     XML resource handler for radio buttons
+// Purpose:     XML resource handler for wxRadioButton
 // Author:      Bob Mitchell
 // Created:     2000/03/21
 // RCS-ID:      $Id: xh_radbt.h,v 1.7 2006/07/04 18:08:07 ABX Exp $
@@ -12,19 +12,19 @@
 #define _WX_XH_RADBT_H_
 
 #include "wx/xrc/xmlres.h"
-#include "wx/defs.h"
 
-#if wxUSE_RADIOBOX
+#if wxUSE_XRC && wxUSE_RADIOBTN
 
 class WXDLLIMPEXP_XRC wxRadioButtonXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxRadioButtonXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxRadioButtonXmlHandler)
+
 public:
     wxRadioButtonXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_RADIOBOX
 
-#endif // _WX_XH_RADIOBUTTON_H_
+#endif // _WX_XH_RADBT_H_
Index: include/wx/xrc/xh_radbx.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_radbx.h,v
retrieving revision 1.9
diff -u -r1.9 xh_radbx.h
--- include/wx/xrc/xh_radbx.h	2006/07/04 18:08:07	1.9
+++ include/wx/xrc/xh_radbx.h	2006/10/03 03:54:13
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_radbx.h
-// Purpose:     XML resource handler for radio box
+// Purpose:     XML resource handler for wxRadioBox
 // Author:      Bob Mitchell
 // Created:     2000/03/21
 // RCS-ID:      $Id: xh_radbx.h,v 1.9 2006/07/04 18:08:07 ABX Exp $
@@ -13,15 +13,17 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_RADIOBOX
+#if wxUSE_XRC && wxUSE_RADIOBOX
 
 class WXDLLIMPEXP_XRC wxRadioBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxRadioBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxRadioBoxXmlHandler)
+
 public:
     wxRadioBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
+
 private:
     bool m_insideBox;
 
@@ -36,6 +38,6 @@
     wxArrayInt    helptextSpecified;
 };
 
-#endif // wxUSE_RADIOBOX
+#endif // wxUSE_XRC && wxUSE_RADIOBOX
 
 #endif // _WX_XH_RADBX_H_
Index: include/wx/xrc/xh_scrol.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_scrol.h,v
retrieving revision 1.8
diff -u -r1.8 xh_scrol.h
--- include/wx/xrc/xh_scrol.h	2006/07/04 18:08:07	1.8
+++ include/wx/xrc/xh_scrol.h	2006/10/03 03:17:21
@@ -12,10 +12,9 @@
 #define _WX_XH_SCROL_H_
 
 #include "wx/xrc/xmlres.h"
-#include "wx/defs.h"
 
+#if wxUSE_XRC && wxUSE_SCROLLBAR
 
-
 class WXDLLIMPEXP_XRC wxScrollBarXmlHandler : public wxXmlResourceHandler
 {
     DECLARE_DYNAMIC_CLASS(wxScrollBarXmlHandler)
@@ -32,5 +31,6 @@
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_SCROLLBAR
 
 #endif // _WX_XH_SCROL_H_
Index: include/wx/xrc/xh_scwin.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_scwin.h,v
retrieving revision 1.7
diff -u -r1.7 xh_scwin.h
--- include/wx/xrc/xh_scwin.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_scwin.h	2006/10/03 03:27:51
@@ -12,18 +12,19 @@
 #define _WX_XH_SCWIN_H_
 
 #include "wx/xrc/xmlres.h"
-#include "wx/defs.h"
 
+#if wxUSE_XRC
 
-
 class WXDLLIMPEXP_XRC wxScrolledWindowXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxScrolledWindowXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxScrolledWindowXmlHandler)
+
 public:
     wxScrolledWindowXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_SCWIN_H_
Index: include/wx/xrc/xh_sizer.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_sizer.h,v
retrieving revision 1.10
diff -u -r1.10 xh_sizer.h
--- include/wx/xrc/xh_sizer.h	2006/07/04 18:08:08	1.10
+++ include/wx/xrc/xh_sizer.h	2006/10/03 03:41:39
@@ -12,15 +12,18 @@
 #define _WX_XH_SIZER_H_
 
 #include "wx/xrc/xmlres.h"
+
+#if wxUSE_XRC
+
 #include "wx/sizer.h"
 #include "wx/gbsizer.h"
 
-
 class WXDLLEXPORT wxSizer;
 
 class WXDLLIMPEXP_XRC wxSizerXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxSizerXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxSizerXmlHandler)
+
 public:
     wxSizerXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -51,10 +54,13 @@
     void AddSizerItem(wxSizerItem* sitem);
 };
 
+#if wxUSE_BUTTON
 
 class WXDLLIMPEXP_XRC wxStdDialogButtonSizerXmlHandler
     : public wxXmlResourceHandler
 {
+    DECLARE_DYNAMIC_CLASS(wxStdDialogButtonSizerXmlHandler)
+
 public:
     wxStdDialogButtonSizerXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -63,9 +69,10 @@
 private:
     bool m_isInside;
     wxStdDialogButtonSizer *m_parentSizer;
-
-    DECLARE_DYNAMIC_CLASS(wxStdDialogButtonSizerXmlHandler)
 };
 
+#endif // wxUSE_BUTTON
+
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_SIZER_H_
Index: include/wx/xrc/xh_slidr.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_slidr.h,v
retrieving revision 1.8
diff -u -r1.8 xh_slidr.h
--- include/wx/xrc/xh_slidr.h	2006/07/04 18:08:08	1.8
+++ include/wx/xrc/xh_slidr.h	2006/10/03 03:40:26
@@ -12,9 +12,8 @@
 #define _WX_XH_SLIDR_H_
 
 #include "wx/xrc/xmlres.h"
-#include "wx/defs.h"
 
-#if wxUSE_SLIDER
+#if wxUSE_XRC && wxUSE_SLIDER
 
 class WXDLLIMPEXP_XRC wxSliderXmlHandler : public wxXmlResourceHandler
 {
@@ -32,6 +31,6 @@
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_SLIDER
 
-#endif // _WX_XH_SLIDER_H_
+#endif // _WX_XH_SLIDR_H_
Index: include/wx/xrc/xh_spin.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_spin.h,v
retrieving revision 1.8
diff -u -r1.8 xh_spin.h
--- include/wx/xrc/xh_spin.h	2006/07/04 18:08:08	1.8
+++ include/wx/xrc/xh_spin.h	2006/10/03 03:52:07
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_spin.h
-// Purpose:     XML resource handler for wxSpinButton
+// Purpose:     XML resource handler for wxSpinButton and wxSpinCtrl
 // Author:      Bob Mitchell
 // Created:     2000/03/21
 // RCS-ID:      $Id: xh_spin.h,v 1.8 2006/07/04 18:08:08 ABX Exp $
@@ -12,9 +12,11 @@
 #define _WX_XH_SPIN_H_
 
 #include "wx/xrc/xmlres.h"
-#include "wx/defs.h"
 
+#if wxUSE_XRC 
+
 #if wxUSE_SPINBTN
+
 class WXDLLIMPEXP_XRC wxSpinButtonXmlHandler : public wxXmlResourceHandler
 {
     DECLARE_DYNAMIC_CLASS(wxSpinButtonXmlHandler)
@@ -30,9 +32,12 @@
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
-#endif
+
+#endif // wxUSE_SPINBTN
+
 
 #if wxUSE_SPINCTRL
+
 class WXDLLIMPEXP_XRC wxSpinCtrlXmlHandler : public wxXmlResourceHandler
 {
     DECLARE_DYNAMIC_CLASS(wxSpinCtrlXmlHandler)
@@ -48,6 +53,9 @@
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
-#endif
+
+#endif // wxUSE_SPINCTRL
+
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_SPIN_H_
Index: include/wx/xrc/xh_split.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_split.h,v
retrieving revision 1.6
diff -u -r1.6 xh_split.h
--- include/wx/xrc/xh_split.h	2006/07/04 18:08:08	1.6
+++ include/wx/xrc/xh_split.h	2006/10/03 03:26:05
@@ -13,13 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_SPLITTER
+
 class WXDLLIMPEXP_XRC wxSplitterWindowXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxSplitterWindowXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxSplitterWindowXmlHandler)
+
 public:
     wxSplitterWindowXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
+
+#endif // wxUSE_XRC && wxUSE_SPLITTER
 
 #endif // _WX_XH_SPLIT_H_
Index: include/wx/xrc/xh_statbar.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_statbar.h,v
retrieving revision 1.6
diff -u -r1.6 xh_statbar.h
--- include/wx/xrc/xh_statbar.h	2006/07/04 18:08:08	1.6
+++ include/wx/xrc/xh_statbar.h	2006/10/03 03:26:01
@@ -13,13 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_STATUSBAR
+
 class WXDLLIMPEXP_XRC wxStatusBarXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxStatusBarXmlHandler)
-    public:
-        wxStatusBarXmlHandler();
-        virtual wxObject *DoCreateResource();
-        virtual bool CanHandle(wxXmlNode *node);
+    DECLARE_DYNAMIC_CLASS(wxStatusBarXmlHandler)
+
+public:
+    wxStatusBarXmlHandler();
+    virtual wxObject *DoCreateResource();
+    virtual bool CanHandle(wxXmlNode *node);
 };
+
+#endif // wxUSE_XRC && wxUSE_STATUSBAR
 
 #endif // _WX_XH_STATBAR_H_
Index: include/wx/xrc/xh_stbmp.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_stbmp.h,v
retrieving revision 1.7
diff -u -r1.7 xh_stbmp.h
--- include/wx/xrc/xh_stbmp.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_stbmp.h	2006/10/03 03:25:57
@@ -13,15 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_STATBMP
 
 class WXDLLIMPEXP_XRC wxStaticBitmapXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxStaticBitmapXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxStaticBitmapXmlHandler)
+
 public:
     wxStaticBitmapXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_STATBMP
 
 #endif // _WX_XH_STBMP_H_
Index: include/wx/xrc/xh_stbox.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_stbox.h,v
retrieving revision 1.7
diff -u -r1.7 xh_stbox.h
--- include/wx/xrc/xh_stbox.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_stbox.h	2006/10/03 03:25:53
@@ -13,15 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_STATBOX
 
 class WXDLLIMPEXP_XRC wxStaticBoxXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxStaticBoxXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxStaticBoxXmlHandler)
+
 public:
     wxStaticBoxXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_STATBOX
 
 #endif // _WX_XH_STBOX_H_
Index: include/wx/xrc/xh_stlin.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_stlin.h,v
retrieving revision 1.7
diff -u -r1.7 xh_stlin.h
--- include/wx/xrc/xh_stlin.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_stlin.h	2006/10/03 03:25:49
@@ -13,17 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_STATLINE
+#if wxUSE_XRC && wxUSE_STATLINE
 
 class WXDLLIMPEXP_XRC wxStaticLineXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxStaticLineXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxStaticLineXmlHandler)
+
 public:
     wxStaticLineXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_STATLINE
 
 #endif // _WX_XH_STLIN_H_
Index: include/wx/xrc/xh_sttxt.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_sttxt.h,v
retrieving revision 1.7
diff -u -r1.7 xh_sttxt.h
--- include/wx/xrc/xh_sttxt.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_sttxt.h	2006/10/03 03:51:02
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_sttxt.h
-// Purpose:     XML resource handler for wxStaticBitmap
+// Purpose:     XML resource handler for wxStaticText
 // Author:      Bob Mitchell
 // Created:     2000/03/21
 // RCS-ID:      $Id: xh_sttxt.h,v 1.7 2006/07/04 18:08:08 ABX Exp $
@@ -13,15 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_STATTEXT
 
 class WXDLLIMPEXP_XRC wxStaticTextXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxStaticTextXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxStaticTextXmlHandler)
+
 public:
     wxStaticTextXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_STATTEXT
 
-#endif // _WX_XH_STBMP_H_
+#endif // _WX_XH_STTXT_H_
Index: include/wx/xrc/xh_text.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_text.h,v
retrieving revision 1.7
diff -u -r1.7 xh_text.h
--- include/wx/xrc/xh_text.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_text.h	2006/10/03 03:25:41
@@ -13,15 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_TEXTCTRL
 
 class WXDLLIMPEXP_XRC wxTextCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxTextCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxTextCtrlXmlHandler)
+
 public:
     wxTextCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_TEXTCTRL
 
 #endif // _WX_XH_TEXT_H_
Index: include/wx/xrc/xh_tglbtn.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_tglbtn.h,v
retrieving revision 1.4
diff -u -r1.4 xh_tglbtn.h
--- include/wx/xrc/xh_tglbtn.h	2006/07/04 18:08:08	1.4
+++ include/wx/xrc/xh_tglbtn.h	2006/10/03 03:25:36
@@ -12,20 +12,19 @@
 #define _WX_XH_TGLBTN_H_
 
 #include "wx/xrc/xmlres.h"
-#include "wx/defs.h"
 
-#if wxUSE_TOGGLEBTN
+#if wxUSE_XRC && wxUSE_TOGGLEBTN
 
 class WXDLLIMPEXP_XRC wxToggleButtonXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxToggleButtonXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxToggleButtonXmlHandler)
+
 public:
     wxToggleButtonXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
-
-#endif
 
+#endif // wxUSE_XRC && wxUSE_TOGGLEBTN
 
 #endif // _WX_XH_TGLBTN_H_
Index: include/wx/xrc/xh_toolb.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_toolb.h,v
retrieving revision 1.7
diff -u -r1.7 xh_toolb.h
--- include/wx/xrc/xh_toolb.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_toolb.h	2006/10/03 03:50:37
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        wx/xrc/xh_toolb.h
-// Purpose:     XML resource handler for wxBoxSizer
+// Purpose:     XML resource handler for wxToolBar
 // Author:      Vaclav Slavik
 // Created:     2000/08/11
 // RCS-ID:      $Id: xh_toolb.h,v 1.7 2006/07/04 18:08:08 ABX Exp $
@@ -13,13 +13,14 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_TOOLBAR
+#if wxUSE_XRC && wxUSE_TOOLBAR
 
 class WXDLLEXPORT wxToolBar;
 
 class WXDLLIMPEXP_XRC wxToolBarXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxToolBarXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxToolBarXmlHandler)
+
 public:
     wxToolBarXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -30,6 +31,6 @@
     wxToolBar *m_toolbar;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_TOOLBAR
 
-#endif // _WX_XH_TOOLBAR_H_
+#endif // _WX_XH_TOOLB_H_
Index: include/wx/xrc/xh_tree.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_tree.h,v
retrieving revision 1.7
diff -u -r1.7 xh_tree.h
--- include/wx/xrc/xh_tree.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_tree.h	2006/10/03 03:24:42
@@ -13,14 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC && wxUSE_TREECTRL
+
 class WXDLLIMPEXP_XRC wxTreeCtrlXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxTreeCtrlXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxTreeCtrlXmlHandler)
+
 public:
     wxTreeCtrlXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC && wxUSE_TREECTRL
 
 #endif // _WX_XH_TREE_H_
Index: include/wx/xrc/xh_treebk.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_treebk.h,v
retrieving revision 1.4
diff -u -r1.4 xh_treebk.h
--- include/wx/xrc/xh_treebk.h	2006/07/04 18:08:08	1.4
+++ include/wx/xrc/xh_treebk.h	2006/10/03 03:24:33
@@ -12,9 +12,9 @@
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_TREEBOOK
+#if wxUSE_XRC && wxUSE_TREEBOOK
 
-#include "wx/treebook.h"
+class  WXDLLEXPORT wxTreebook;
 #include "wx/dynarray.h"
 
 WX_DEFINE_USER_EXPORTED_ARRAY_SIZE_T(size_t, wxArrayTbkPageIndexes,
@@ -30,6 +30,8 @@
 // it cannot be greater than the previous page depth plus one
 class WXDLLIMPEXP_XRC wxTreebookXmlHandler : public wxXmlResourceHandler
 {
+    DECLARE_DYNAMIC_CLASS(wxTreebookXmlHandler)
+
 public:
     wxTreebookXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -39,8 +41,6 @@
     wxTreebook *m_tbk;
     wxArrayTbkPageIndexes m_treeContext;
     bool m_isInside;
-
-    DECLARE_DYNAMIC_CLASS(wxTreebookXmlHandler)
 };
 
 
@@ -78,6 +78,6 @@
 //  ...
 //</resource>
 
-#endif // wxUSE_TREEBOOK
+#endif // wxUSE_XRC && wxUSE_TREEBOOK
 
 #endif // _WX_XH_TREEBK_H_
Index: include/wx/xrc/xh_unkwn.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_unkwn.h,v
retrieving revision 1.7
diff -u -r1.7 xh_unkwn.h
--- include/wx/xrc/xh_unkwn.h	2006/07/04 18:08:08	1.7
+++ include/wx/xrc/xh_unkwn.h	2006/10/03 03:24:21
@@ -13,15 +13,18 @@
 
 #include "wx/xrc/xmlres.h"
 
+#if wxUSE_XRC
 
 class WXDLLIMPEXP_XRC wxUnknownWidgetXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxUnknownWidgetXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxUnknownWidgetXmlHandler)
+
 public:
     wxUnknownWidgetXmlHandler();
     virtual wxObject *DoCreateResource();
     virtual bool CanHandle(wxXmlNode *node);
 };
 
+#endif // wxUSE_XRC
 
 #endif // _WX_XH_UNKWN_H_
Index: include/wx/xrc/xh_wizrd.h
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/include/wx/xrc/xh_wizrd.h,v
retrieving revision 1.6
diff -u -r1.6 xh_wizrd.h
--- include/wx/xrc/xh_wizrd.h	2006/07/04 18:08:08	1.6
+++ include/wx/xrc/xh_wizrd.h	2006/10/03 03:24:16
@@ -9,17 +9,19 @@
 /////////////////////////////////////////////////////////////////////////////
 
 #ifndef _WX_XH_WIZRD_H_
-#define _WX_XH_WIZRDL_H_
+#define _WX_XH_WIZRD_H_
 
 #include "wx/xrc/xmlres.h"
 
-#if wxUSE_WIZARDDLG
+#if wxUSE_XRC && wxUSE_WIZARDDLG
 
-#include "wx/wizard.h"
+class WXDLLEXPORT wxWizard;
+class WXDLLEXPORT wxWizardPageSimple;
 
 class WXDLLIMPEXP_XRC wxWizardXmlHandler : public wxXmlResourceHandler
 {
-DECLARE_DYNAMIC_CLASS(wxWizardXmlHandler)
+    DECLARE_DYNAMIC_CLASS(wxWizardXmlHandler)
+
 public:
     wxWizardXmlHandler();
     virtual wxObject *DoCreateResource();
@@ -30,6 +32,6 @@
     wxWizardPageSimple *m_lastSimplePage;
 };
 
-#endif
+#endif // wxUSE_XRC && wxUSE_WIZARDDLG
 
-#endif // _WX_XH_PANEL_H_
+#endif // _WX_XH_WIZRD_H_
Index: src/xrc/xh_bttn.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_bttn.cpp,v
retrieving revision 1.13
diff -u -r1.13 xh_bttn.cpp
--- src/xrc/xh_bttn.cpp	2006/05/17 09:07:47	1.13
+++ src/xrc/xh_bttn.cpp	2006/10/03 02:31:28
@@ -15,7 +15,7 @@
     #pragma hdrstop
 #endif
 
-#if wxUSE_XRC
+#if wxUSE_XRC && wxUSE_BUTTON
 
 #include "wx/xrc/xh_bttn.h"
 
@@ -60,4 +60,4 @@
     return IsOfClass(node, wxT("wxButton"));
 }
 
-#endif // wxUSE_XRC
+#endif // wxUSE_XRC && wxUSE_BUTTON
Index: src/xrc/xh_chckl.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_chckl.cpp,v
retrieving revision 1.24
diff -u -r1.24 xh_chckl.cpp
--- src/xrc/xh_chckl.cpp	2006/08/21 18:27:10	1.24
+++ src/xrc/xh_chckl.cpp	2006/10/03 10:35:29
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        src/xrc/xh_chckl.cpp
-// Purpose:     XRC resource for wxCheckList
+// Purpose:     XRC resource for wxCheckListBox
 // Author:      Bob Mitchell
 // Created:     2000/03/21
 // RCS-ID:      $Id: xh_chckl.cpp,v 1.24 2006/08/21 18:27:10 RD Exp $
Index: src/xrc/xh_hyperlink.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_hyperlink.cpp,v
retrieving revision 1.3
diff -u -r1.3 xh_hyperlink.cpp
--- src/xrc/xh_hyperlink.cpp	2006/05/29 11:14:34	1.3
+++ src/xrc/xh_hyperlink.cpp	2006/10/03 10:33:21
@@ -1,5 +1,5 @@
 /////////////////////////////////////////////////////////////////////////////
-// Name:        src/xrc/hyperlink.cpp
+// Name:        src/xrc/xh_hyperlink.cpp
 // Purpose:     Hyperlink control
 // Author:      David Norris <danorris@gmail.com>
 // Modified by: Ryan Norton, Francesco Montorsi
Index: src/xrc/xh_mdi.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_mdi.cpp,v
retrieving revision 1.12
diff -u -r1.12 xh_mdi.cpp
--- src/xrc/xh_mdi.cpp	2006/06/08 20:19:29	1.12
+++ src/xrc/xh_mdi.cpp	2006/10/03 10:32:11
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        src/xrc/xh_mdi.cpp
-// Purpose:     XRC resource for dialogs
+// Purpose:     XRC resource for wxMdi
 // Author:      David M. Falkinder & Vaclav Slavik
 // Created:     14/02/2005
 // RCS-ID:      $Id: xh_mdi.cpp,v 1.12 2006/06/08 20:19:29 ABX Exp $
Index: src/xrc/xh_menu.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_menu.cpp,v
retrieving revision 1.24
diff -u -r1.24 xh_menu.cpp
--- src/xrc/xh_menu.cpp	2006/05/18 07:13:20	1.24
+++ src/xrc/xh_menu.cpp	2006/10/03 02:11:47
@@ -15,7 +15,7 @@
     #pragma hdrstop
 #endif
 
-#if wxUSE_XRC
+#if wxUSE_XRC && wxUSE_MENUS
 
 #include "wx/xrc/xh_menu.h"
 
@@ -149,4 +149,4 @@
     return IsOfClass(node, wxT("wxMenuBar"));
 }
 
-#endif // wxUSE_XRC
+#endif // wxUSE_XRC && wxUSE_MENUS
Index: src/xrc/xh_sizer.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_sizer.cpp,v
retrieving revision 1.32
diff -u -r1.32 xh_sizer.cpp
--- src/xrc/xh_sizer.cpp	2006/09/04 16:40:08	1.32
+++ src/xrc/xh_sizer.cpp	2006/10/03 03:02:45
@@ -377,6 +377,7 @@
 //-----------------------------------------------------------------------------
 // wxStdDialogButtonSizerXmlHandler
 //-----------------------------------------------------------------------------
+#if wxUSE_BUTTON
 
 IMPLEMENT_DYNAMIC_CLASS(wxStdDialogButtonSizerXmlHandler, wxXmlResourceHandler)
 
@@ -438,5 +439,6 @@
     return (!m_isInside && IsOfClass(node, wxT("wxStdDialogButtonSizer"))) ||
            (m_isInside && IsOfClass(node, wxT("button")));
 }
+#endif // wxUSE_BUTTON
 
 #endif // wxUSE_XRC
Index: src/xrc/xh_spin.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_spin.cpp,v
retrieving revision 1.12
diff -u -r1.12 xh_spin.cpp
--- src/xrc/xh_spin.cpp	2005/09/23 12:56:14	1.12
+++ src/xrc/xh_spin.cpp	2006/10/03 10:28:52
@@ -15,7 +15,7 @@
     #pragma hdrstop
 #endif
 
-#if wxUSE_XRC
+#if wxUSE_XRC 
 
 #include "wx/xrc/xh_spin.h"
 
Index: src/xrc/xh_split.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_split.cpp,v
retrieving revision 1.11
diff -u -r1.11 xh_split.cpp
--- src/xrc/xh_split.cpp	2006/04/26 08:21:31	1.11
+++ src/xrc/xh_split.cpp	2006/10/03 02:28:06
@@ -15,7 +15,7 @@
     #pragma hdrstop
 #endif
 
-#if wxUSE_XRC
+#if wxUSE_XRC && wxUSE_SPLITTER
 
 #include "wx/xrc/xh_split.h"
 
@@ -107,4 +107,4 @@
      return IsOfClass(node, wxT("wxSplitterWindow"));
 }
 
-#endif // wxUSE_XRC
+#endif // wxUSE_XRC && wxUSE_SPLITTER
Index: src/xrc/xh_tglbtn.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_tglbtn.cpp,v
retrieving revision 1.6
diff -u -r1.6 xh_tglbtn.cpp
--- src/xrc/xh_tglbtn.cpp	2005/09/23 12:56:15	1.6
+++ src/xrc/xh_tglbtn.cpp	2006/10/03 10:26:21
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        xh_tglbtn.cpp
-// Purpose:     XRC resource for wxCheckBox
+// Purpose:     XRC resource for wxToggleButton
 // Author:      Bob Mitchell
 // Created:     2000/03/21
 // RCS-ID:      $Id: xh_tglbtn.cpp,v 1.6 2005/09/23 12:56:15 MR Exp $
Index: src/xrc/xh_toolb.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xh_toolb.cpp,v
retrieving revision 1.22
diff -u -r1.22 xh_toolb.cpp
--- src/xrc/xh_toolb.cpp	2006/06/07 17:46:13	1.22
+++ src/xrc/xh_toolb.cpp	2006/10/03 10:25:57
@@ -1,6 +1,6 @@
 /////////////////////////////////////////////////////////////////////////////
 // Name:        src/xrc/xh_toolb.cpp
-// Purpose:     XRC resource for wxBoxSizer
+// Purpose:     XRC resource for wxToolBar
 // Author:      Vaclav Slavik
 // Created:     2000/08/11
 // RCS-ID:      $Id: xh_toolb.cpp,v 1.22 2006/06/07 17:46:13 ABX Exp $
Index: src/xrc/xmlrsall.cpp
===================================================================
RCS file: /pack/cvsroots/wxwidgets/wxWidgets/src/xrc/xmlrsall.cpp,v
retrieving revision 1.28
diff -u -r1.28 xmlrsall.cpp
--- src/xrc/xmlrsall.cpp	2006/09/23 09:14:46	1.28
+++ src/xrc/xmlrsall.cpp	2006/10/03 04:04:09
@@ -22,24 +22,46 @@
 
 void wxXmlResource::InitAllHandlers()
 {
+    // these are the handlers, which we always have
+    AddHandler(new wxUnknownWidgetXmlHandler);
     AddHandler(new wxBitmapXmlHandler);
     AddHandler(new wxIconXmlHandler);
-    AddHandler(new wxMenuXmlHandler);
-    AddHandler(new wxMenuBarXmlHandler);
     AddHandler(new wxDialogXmlHandler);
     AddHandler(new wxPanelXmlHandler);
     AddHandler(new wxSizerXmlHandler);
+    AddHandler(new wxFrameXmlHandler);
+    AddHandler(new wxScrolledWindowXmlHandler);
+
+    // these are configurable handlers
+#if wxUSE_MENUS
+    AddHandler(new wxMenuXmlHandler);
+    AddHandler(new wxMenuBarXmlHandler);
+#endif
+#if wxUSE_BUTTON
     AddHandler(new wxStdDialogButtonSizerXmlHandler);
     AddHandler(new wxButtonXmlHandler);
+#endif
+#if wxUSE_BMPBUTTON
     AddHandler(new wxBitmapButtonXmlHandler);
+#endif
+#if wxUSE_STATTEXT
     AddHandler(new wxStaticTextXmlHandler);
+#endif
+#if wxUSE_STATBOX
     AddHandler(new wxStaticBoxXmlHandler);
+#endif
+#if wxUSE_STATBMP
     AddHandler(new wxStaticBitmapXmlHandler);
+#endif
+#if wxUSE_TREECTRL
     AddHandler(new wxTreeCtrlXmlHandler);
+#endif
 #if wxUSE_CALENDARCTRL
     AddHandler(new wxCalendarCtrlXmlHandler);
 #endif
+#if wxUSE_LISTCTRL
     AddHandler(new wxListCtrlXmlHandler);
+#endif
 #if wxUSE_CHECKLISTBOX
     AddHandler(new wxCheckListBoxXmlHandler);
 #endif
@@ -72,6 +94,8 @@
 #endif
 #if wxUSE_RADIOBOX
     AddHandler(new wxRadioBoxXmlHandler);
+#endif
+#if wxUSE_RADIOBTN
     AddHandler(new wxRadioButtonXmlHandler);
 #endif
 #if wxUSE_COMBOBOX
@@ -95,7 +119,9 @@
 #if wxUSE_TREEBOOK
     AddHandler(new wxTreebookXmlHandler);
 #endif
+#if wxUSE_TEXTCTRL
     AddHandler(new wxTextCtrlXmlHandler);
+#endif
 #if wxUSE_LISTBOX
     AddHandler(new wxListBoxXmlHandler);
 #endif
@@ -105,13 +131,12 @@
 #if wxUSE_STATLINE
     AddHandler(new wxStaticLineXmlHandler);
 #endif
-    AddHandler(new wxUnknownWidgetXmlHandler);
 #if wxUSE_DIRDLG
     AddHandler(new wxGenericDirCtrlXmlHandler);
 #endif
-    AddHandler(new wxFrameXmlHandler);
-    AddHandler(new wxScrolledWindowXmlHandler);
+#if wxUSE_SPLITTER
     AddHandler(new wxSplitterWindowXmlHandler);
+#endif
 #if wxUSE_WIZARDDLG
     AddHandler(new wxWizardXmlHandler);
 #endif


 	  	 
