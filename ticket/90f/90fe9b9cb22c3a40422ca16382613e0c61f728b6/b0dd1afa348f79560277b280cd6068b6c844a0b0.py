import os
import  wx.html as  html
from wxPython.wx import *
import  wx
from wx import ImageFromStream, BitmapFromImage
import cStringIO

class MyFrame(wxFrame):
    def __init__(self, parent, ID, title):
        wxFrame.__init__(self, parent, ID, title, wxDefaultPosition)
                        
        self.html = MyHtmlWindow(self, -1)

        page = "<html>"
        page += "<head></head><body><center>"

        for t in range(25):
            page += "Line " + str(t) + "<br>"

        page += "</center></body></html>"

        self.html.SetPage(page)
        self.html.SetBackgroundImage(gettestBitmap())
        
class MyHtmlWindow(html.HtmlWindow):
    def __init__(self, parent, id):
        html.HtmlWindow.__init__(self, parent, id, style=wx.FULL_REPAINT_ON_RESIZE)

def gettestData():
    return \
'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00d\x00\x00\x00\xe2\x08\x02\
\x00\x00\x007i\xf5\xc6\x00\x00\x00\x03sBIT\x08\x08\x08\xdb\xe1O\xe0\x00\x00\
\x01\xffIDATx\x9c\xed\xdaA\r\xc40\x10\x04A;:\xe0\xa6\x16&a\x92\xa3\x90~Y\x96\
\xaa\x10\xacZ\xf3\xdc\xf9\x0e\xbe\xbav\x1fp\x12\xb1\x02\xb1\x02\xb1\x02\xb1\
\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\
\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\
\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\xb1\x02\
\xb1\x02\xb1\x829\x86\xaf\xd2\xaf,+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\
\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\
\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\x10+\xf8\xadu\
\xef\xbe\xe1\x18\x96\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\
\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\
\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\
\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\
\x88\x15\x88\x15\xcc\xb5\xfb\x82\x83XV V V V V V V V V V V V V V V V V V V V\
 V V V V V V V V V V V V V V V V V V V0\x9fg\xed\xbe\xe1\x18\x96\x15\x88\x15\
\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\
\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\
\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\
\x15\x88\x15\x88\x15\x88\x15\x88\x15\x88\x15\xcc\xb1v\x9fp\x0e\xcb\n\xc4\n\
\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\
\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\
\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xc4\n\xfe\xc4\x07\x08\xc1t\xda\
\x1f\xaf\x00\x00\x00\x00IEND\xaeB`\x82' 

def gettestBitmap():
    return BitmapFromImage(gettestImage())

def gettestImage():
    stream = cStringIO.StringIO(gettestData())
    return ImageFromStream(stream)

class MyApp(wxApp):
    def OnInit(self):
        frame = MyFrame(NULL, -1, "Title")
        frame.Show(true)
        self.SetTopWindow(frame)

        return True
 
app = MyApp(0)
app.MainLoop()

 	  	 
